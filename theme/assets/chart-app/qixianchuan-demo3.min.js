function CreateAngularGaugeChart(e,t){FusionCharts.ready(function(){new FusionCharts({type:"angulargauge",renderAt:e,width:"100%",height:"100%",dataFormat:"json",dataSource:{chart:{showBorder:"1",borderColor:"#3d7f88",borderThickness:"1",alignCaptionWithCanvas:"1",captionAlignment:"left",caption:t.chart.caption,captionFontSize:"10",captionFontColor:"#ffffff",chartTopMargin:"2",chartBottomMargin:"0",chartLeftMargin:"2",chartRightMargin:"4",subcaption:t.chart.subcaption,subCaptionFontSize:"14",subCaptionFontColor:"#ffffff",gaugeStartAngle:"180",gaugeEndAngle:"90",lowerLimit:"0",upperLimit:"100",showTooltip:"1",gaugeInnerRadius:"98%",majorTMColor:"#ffffff",baseFontColor:"#ffffff",bgColor:"438383,76BBB6",bgratio:"10,90",bgAlpha:"100,100",showValue:"1",placeValuesInside:"1",theme:"fint"},colorRange:{color:[{code:"#FFFFFF"}]},dials:{dial:[{value:t.dials.dial[0].value,bgColor:"#549997,#1A625C,#549997"}]}},events:{beforeRender:function(e,t){init(e)},rendered:function(e,a){e.sender.intervalVar=setInterval(function(){var a=e.sender,n=t.dials.dial[0].value-0+parseInt(Math.floor(10*Math.random()),10);a.feedData("value="+n)},2e3)},realtimeUpdateComplete:function(e,t){},renderComplete:function(e,t){},disposed:function(e,t){clearInterval(e.sender.intervalVar)}}}).render()})}function CreateVbulletChart(e,t){FusionCharts.ready(function(){var a=new FusionCharts({type:"vbullet",renderAt:e,width:"100%",height:"100%",dataFormat:"json",dataSource:{chart:{theme:"fint",lowerLimit:"0",upperLimit:"10",showBorder:"1",showTooltip:"1",minorTMNumber:"3",majorTMColor:"#ffffff",minorTMColor:"#ffffff",baseFontColor:"#ffffff",plotFillColor:"#6AD2C7",targetColor:"#FFFFFF",bgColor:"438383,76BBB6",bgratio:"10,90",bgAlpha:"100,100",colorRangeFillRatio:"10,70,20",showShadow:"1",caption:t.chart.caption},value:t.value},events:{beforeRender:function(e,t){init(e)},rendered:function(e,a){var n=e.sender;n.intervalVar=setInterval(function(){var e=parseInt(Math.floor(6*Math.random()),10);n.feedData("&value="+e+"&id="+t.id)},2e3)},realtimeUpdateComplete:function(e,t){},renderComplete:function(e,t){},disposed:function(e,t){clearInterval(e.sender.intervalVar)}}});a.render()})}function CreateAngularGaugeTypeB(e,t){FusionCharts.ready(function(){var a=new FusionCharts({type:"angulargauge",renderAt:e,width:"100%",height:"100%",dataFormat:"json",dataSource:{chart:{caption:t.chart.caption,subCaption:t.chart.subcaption,captionAlignment:"left",captionFontSize:"10",chartTopMargin:"2",lowerLimit:"0",upperLimit:"100",gaugeInnerRadius:"98%",showBorder:"1",showValue:"1",showTooltip:"1",valueBelowPivot:"1",majorTMNumber:"9",minorTMNumber:"4",placeValuesInside:"1",gaugeStartAngle:"245",gaugeEndAngle:"-65",majorTMColor:"#ffffff",majorTMAlpha:"0",baseFontColor:"#ffffff",bgColor:"438383,76BBB6",bgratio:"10,90",bgAlpha:"100,100",theme:"fint"},colorRange:{color:[{code:"#ffffff"}]},dials:{dial:[{value:t.dials.dial[0].value,borderAlpha:"10",bgColor:"#549997,#1A625C,#549997"}]}},events:{beforeRender:function(e,t){init(e)},rendered:function(e,a){e.sender.intervalVar=setInterval(function(){var a=e.sender,n=t.dials.dial[0].value-0+parseInt(Math.floor(10*Math.random()),10);a.feedData("&value="+n)},2e3)},realtimeUpdateComplete:function(e,t){},renderComplete:function(e,t){},disposed:function(e,t){clearInterval(e.sender.intervalVar)}}});a.render()})}function CreateDoughNut2d(e,t){FusionCharts.ready(function(){var a=(new FusionCharts({type:"doughnut2d",id:"DoughNut2d",renderAt:e,width:"100%",height:"100%",dataFormat:"json",dataSource:{chart:{caption:t.chart.caption,subcaption:t.chart.subcaption,captionOnTop:"1",captionAlignment:"right",chartTopMargin:"0",paletteColors:"#3aa095,#ffffff",showBorder:"1",use3DLighting:"1",radius3D:"30",showShadow:"1",enableSmartLabels:"0",startingAngle:"45",showLabels:"0",showPercentValues:"1",pieRadius:"62",labelDistance:"1000",centerLabel:"$value",defaultCenterLabel:t.data[0].value,centerLabelBold:"4",showTooltip:"1",baseFontColor:"#ffffff",bgColor:"438383,76BBB6",bgratio:"10,90",bgAlpha:"100,100",baseFontColor:"#ffffff",theme:"fint"},data:t.data},events:{beforeRender:function(e,t){init(e)},rendered:function(e,t){},realtimeUpdateComplete:function(e,t){},renderComplete:function(e,t){},disposed:function(e,t){clearInterval(e.sender.intervalVar),clearInterval(a)}}}).render(),setInterval(function(){$.ajax({type:"get",url:"json/DoughNut2d.json",async:!0,dataType:"json",success:function(e){$("#chart-container16").updateFusionCharts({dataSource:{chart:{caption:t.chart.caption,subcaption:t.chart.subcaption,captionOnTop:"1",chartTopMargin:"0",captionAlignment:"right",paletteColors:"#3aa095,#ffffff",showBorder:"1",use3DLighting:"1",radius3D:"30",showShadow:"1",enableSmartLabels:"0",startingAngle:"45",showLabels:"0",showPercentValues:"1",pieRadius:"62",labelDistance:"1000",centerLabel:"$value",defaultCenterLabel:e.data[0].value,centerLabelBold:"1",showTooltip:"1",baseFontColor:"#ffffff",bgColor:"438383,76BBB6",bgratio:"10,90",bgAlpha:"100,100",baseFontColor:"#ffffff",theme:"fint"},data:[{label:e.data[0].label,value:e.data[0].value},{label:e.data[1].label,value:e.data[1].value}]}})}})},4e3))})}function CreateThermometer(e,t){FusionCharts.ready(function(){new FusionCharts({type:"thermometer",renderAt:e,id:t.mid,width:"100%",height:"100%",dataFormat:"json",dataSource:{chart:{caption:t.chart.caption,captionOnTop:"1",chartTopMargin:"5",chartBottomMargin:"5",captionFontSize:"13",chartLeftMargin:"0",baseFontColor:"#ffffff",thmBulbRadius:"6",majorTMColor:"#ffffff",lowerLimit:"0",upperLimit:"100",showGaugeBorder:"1",gaugeBorderColor:"#008ee4",decimals:"1",bgColor:"438383,76BBB6",bgratio:"10,90",bgAlpha:"100,100",showBorder:"1",showShadow:"1",ticksOnRight:"0",thmFillColor:"#008ee4",theme:"fint"},value:t.value},events:{beforeRender:function(e,t){init(e)},rendered:function(e,a){setInterval(function(){var e=parseInt(Math.floor(100*Math.random()),10),a="&value="+e;FusionCharts.items[t.mid].feedData(a)},2e3)},realtimeUpdateComplete:function(e,t){},renderComplete:function(e,t){},disposed:function(e,t){clearInterval(e.sender.intervalVar)}}}).render()})}function CreateCylinder(e,t){FusionCharts.ready(function(){var e=new FusionCharts({type:"cylinder",dataFormat:"json",id:"fuelMeter-5",renderAt:t.id,width:"100%",height:"100%",dataSource:{chart:{theme:"fint",captionOnTop:"1",chartTopMargin:"5",captionFontSize:"13",chartRightMargin:"20",chartBottomMargin:"4",caption:t.chart.caption,lowerLimit:"0",upperLimit:"100",showValue:"1",decimals:"1",baseFontColor:"#ffffff",majorTMColor:"#ffffff",bgColor:"438383,76BBB6",bgratio:"10,90",bgAlpha:"100,100",cylRadius:"6",showBorder:"1",showShadow:"1",tickmarkDistance:"0",ticksOnRight:"0"},value:t.value},events:{beforeRender:function(e,t){init(e)},rendered:function(e,t){setInterval(function(){var e=parseInt(Math.floor(100*Math.random()),10);FusionCharts("fuelMeter-5").feedData("&value="+e)},2e3)},realtimeUpdateComplete:function(e,t){},renderComplete:function(e,t){},disposed:function(e,t){clearInterval(e.sender.intervalVar)}}});e.render()})}function init(e){var t=e.sender.options;t.loadMessage="正在加载图表，请稍后",t.dataInvalidMessage="无效的数据",t.dataEmptyMessage="不显示数据",t.renderErrorMessage="无法绘制图表",t.dataLoadErrorMessage="加载数据中的错误",t.dataLoadStartMessage="检索数据。请稍等",t.typeNotSupportedMessage="不支持图表类型"}function click(e){document.all&&(2!=event.button&&3!=event.button||(alert("欢迎光临寒舍，有什么需要帮忙的话，请与站长联系！谢谢您的合作！！！"),oncontextmenu="return false")),document.layers&&3==e.which&&(oncontextmenu="return false")}$.ajax({type:"get",url:"json/Chart.json",async:!0,dataType:"json",success:function(e){for(var t=0;t<e.AngularGaugeChart.length;t++)CreateAngularGaugeChart(e.AngularGaugeChart[t].id,e.AngularGaugeChart[t]);for(var t=0;t<e.AngularGaugeChartB.length;t++)CreateAngularGaugeTypeB(e.AngularGaugeChartB[t].id,e.AngularGaugeChartB[t]);for(var t=0;t<e.DoughNut2d.length;t++)CreateDoughNut2d(e.DoughNut2d[t].id,e.DoughNut2d[t]);for(var t=0;t<e.Thermometer.length;t++)CreateThermometer(e.Thermometer[t].id,e.Thermometer[t]);for(var t=0;t<e.CylinderChart.length;t++)CreateCylinder(e.CylinderChart[t].id,e.CylinderChart[t])}}),$(function(){$("#equipment-small").hover(function(){$("#tree_2").stop().show(300)},function(){$("#tree_2").stop().hide(300)}),$("#tree_2").jstree({plugins:["wholerow","checkbox","types"],core:{themes:{responsive:!1},data:[{id:"1",text:"设备制造商",children:[{id:"11",text:"福建某集团",state:{selected:!0}},{id:"12",text:"天津某企业"},{id:"13",text:"成都某企业",state:{opened:!0},children:[{id:"131",text:"成都市某某公司"}]},{id:"15",text:"贵州某公司"}]},{id:"2",text:"天津某公司",state:{opened:!0},children:[{id:"21",text:"深圳某企业"}]}]},types:{"default":{icon:"fa fa-folder icon-state-warning icon-lg"},file:{icon:"fa fa-file icon-state-warning icon-lg"}}}),$("#tree_2").on("changed.jstree",function(e,t){var a,n,r=[];for(a=0,n=t.selected.length;a<n;a++)"initially selected"!==t.instance.get_node(t.selected[a]).text&&r.push(t.instance.get_node(t.selected[a]).text);$("#equipmentval").val(r.join(", "))}).jstree()}),document.layers&&document.captureEvents(Event.MOUSEDOWN),document.onmousedown=click,document.oncontextmenu=new Function("return false;"),document.onkeydown=document.onkeyup=document.onkeypress=function(){if(123==window.event.keyCode)return window.event.returnValue=!1,!1};