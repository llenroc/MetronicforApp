<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>温度计</title>
    </head>

    <body>
        <div id="chart-container">FusionCharts will render here</div>
        <script src="js/fusioncharts.js" type="text/javascript"></script>
        <script>
            FusionCharts.ready(function()
            {
                var chart = new FusionCharts(
                {
                    type: 'thermometer',
                    renderAt: 'chart-container',
                    id: 'temp-monitor',
                    width: '120',
                    height: '400',
                    dataFormat: 'json',
                    dataSource:
                    {
                        "chart":
                        {
                            "caption": "水温",
                            "baseFontColor": "#ffffff",
                            "majorTMColor": "#ffffff",
                            "lowerLimit": "0",
                            "upperLimit": "10",
                            "numberSuffix": "°C",
                            "bgColor": "438383,76BBB6",
                            "bgratio": "10,90",
                            "bgAlpha": "100,100",
                            "showBorder": "0",
                            "ticksOnRight": "0",
                            "thmFillColor": "#008ee4"
                        },
                        "value": "-10"
                    },
                    "events":
                    {
                        "rendered": function(evtObj, argObj)
                        {
                            var intervalVar = setInterval(function()
                            {
                                var temp = -10 + parseInt(Math.floor(Math.random() * 6), 10);
                                FusionCharts.items["temp-monitor"].feedData("value=" + temp);
                            }, 3000);
                        }
                    }
                }).render();
            });
        </script>
    </body>

</html>